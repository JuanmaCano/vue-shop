(function(t){function e(e){for(var n,c,u=e[0],s=e[1],i=e[2],l=0,p=[];l<u.length;l++)c=u[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,u=1;u<r.length;u++){var s=r[u];0!==a[s]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},a={app:0},o=[];function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var i=0;i<u.length;i++)e(u[i]);var d=s;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"135e":function(t,e,r){"use strict";r.r(e);var n=r("2b0e"),a=r("5f5b");r("f9e3"),r("2dd8");n["default"].use(a["a"])},"1a9e":function(t,e,r){"use strict";r.r(e);var n=r("2b0e"),a=r("baff"),o=r.n(a);n["default"].use(o.a)},"56d7":function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"setProducts",(function(){return I}));var a={};r.r(a),r.d(a,"fetchProducts",(function(){return G}));var o={};r.r(o),r.d(o,"addProduct",(function(){return W})),r.d(o,"removeProductFromCart",(function(){return X}));var c={};r.r(c),r.d(c,"totalCost",(function(){return Y}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var u=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mt-5",attrs:{id:"app"}},[r("shop-layout",[r("template",{slot:"product-list"},[r("product-list")],1),r("template",{slot:"cart"},[r("cart")],1)],2)],1)},i=[],d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.products.length?r("div",[r("paginate",{attrs:{name:"products",list:t.products,per:t.perPage}},[r("b-card-group",{attrs:{deck:""}},t._l(t.paginated("products"),(function(e){return r("product-item",{key:e.id,attrs:{product:e},on:{addToCart:t.addProductToCart}})})),1)],1),r("paginate-links",{attrs:{for:"products",classes:{ul:"pagination",li:"page-item","li > a":"page-link"}}})],1):r("b-alert",{attrs:{show:"",variant:"info"}},[t._v("No hay productos que mostrar")])},l=[],p=r("5530"),f=r("2f62"),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{staticClass:"shadow-sm",staticStyle:{"max-width":"20rem",padding:"1rem"},attrs:{"img-src":t.product.picture,"img-alt":t.product.name,"img-top":""},scopedSlots:t._u([{key:"footer",fn:function(){return[r("b-button",{attrs:{block:"",variant:"warning"},on:{click:function(e){return t.$emit("addToCart",t.product)}}},[t._v("Añadir al carrito")])]},proxy:!0}])},[r("b-card-text",{staticClass:"font-weight-bold"},[t._v(t._s(t.product.name)+" ...")]),r("b-card-text",[t._v(t._s(t.product.description.substr(0,80))+" ...")])],1)},m=[],v={props:{product:{type:Object,required:!0}}},h=v,g=r("2877"),j=Object(g["a"])(h,b,m,!1,null,null,null),O=j.exports,y={components:{ProductItem:O},mounted:function(){this.fetchProducts()},data:function(){return{paginate:["products"],perPage:2}},computed:Object(p["a"])({},Object(f["e"])("products",["products"])),methods:Object(p["a"])(Object(p["a"])(Object(p["a"])({},Object(f["b"])("products",["fetchProducts"])),Object(f["d"])("cart",["addProduct"])),{},{addProductToCart:function(t){this.addProduct(t)}})},_=y,w=Object(g["a"])(_,d,l,!1,null,null,null),P=w.exports,x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("b-row",[r("b-col",{attrs:{sm:"12",md:"8"}},[t._t("product-list")],2),r("b-col",{attrs:{sm:"12",md:"4"}},[t._t("cart")],2)],1)],1)},C=[],k={},S=Object(g["a"])(k,x,C,!1,null,null,null),T=S.exports,$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.cart.length?r("div",[r("b-table",{attrs:{striped:"",hover:"",items:t.cart,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[r("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(r){return r.stopPropagation(),t.removeProductFromCart(e.item)}}},[t._v("Delete")])]}}],null,!1,1786533572)}),r("b-alert",{staticClass:"text-center",attrs:{show:"",variant:"success"}},[t._v("Coste total: "+t._s(t.totalCost.toFixed(2))+"€")])],1):r("b-alert",{attrs:{show:"",variant:"info"}},[t._v("No hay productos en el carrito")])},q=[],E={data:function(){return{fields:["name","qty","price","actions"]}},computed:Object(p["a"])(Object(p["a"])({},Object(f["e"])("cart",["cart"])),Object(f["c"])("cart",["totalCost"])),methods:Object(p["a"])({},Object(f["d"])("cart",["removeProductFromCart"]))},F=E,M=Object(g["a"])(F,$,q,!1,null,null,null),A=M.exports,J={name:"App",components:{ShopLayout:T,ProductList:P,Cart:A}},L=J,N=Object(g["a"])(L,s,i,!1,null,null,null),R=N.exports,z=r("bfa9"),D={products:[]};function I(t,e){t.products=e}r("d3b7"),r("96cf");var B=r("1da1");function G(t){return H.apply(this,arguments)}function H(){return H=Object(B["a"])(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,fetch("./fixtures/products.json");case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,r("products/setProducts",a,{root:!0});case 8:case"end":return t.stop()}}),t)}))),H.apply(this,arguments)}var K=!0,Q={namespaced:K,state:D,mutations:n,actions:a},U={cart:[]},V=r("2ef0");function W(t,e){var r=Object(V["find"])(t.cart,{id:e.id});if(r)r.qty+=1;else{var n=Object.assign({},e);n.qty=1,t.cart.push(n)}}function X(t,e){t.cart=Object(V["filter"])(t.cart,(function(t){var r=t.id;return r!==e.id}))}r("13d5");function Y(t){return t.cart.reduce((function(t,e){return parseFloat(e.price)*e.qty+t}),0)}var Z={namespaced:!0,state:U,mutations:o,getters:c};u["default"].use(f["a"]);var tt=new z["a"]({storage:window.localStorage,modules:["cart"]}),et=new f["a"].Store({modules:{products:Q,cart:Z},plugins:[tt.plugin]});r("6912"),u["default"].config.productionTip=!1,new u["default"]({store:et,render:function(t){return t(R)}}).$mount("#app")},6912:function(t,e,r){r("135e"),r("1a9e")}});