(function(t){function r(r){for(var n,c,u=r[0],s=r[1],i=r[2],d=0,p=[];d<u.length;d++)c=u[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(r);while(p.length)p.shift()();return o.push.apply(o,i||[]),e()}function e(){for(var t,r=0;r<o.length;r++){for(var e=o[r],n=!0,u=1;u<e.length;u++){var s=e[u];0!==a[s]&&(n=!1)}n&&(o.splice(r--,1),t=c(c.s=e[0]))}return t}var n={},a={app:0},o=[];function c(r){if(n[r])return n[r].exports;var e=n[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=t,c.c=n,c.d=function(t,r,e){c.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,r){if(1&r&&(t=c(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var n in t)c.d(e,n,function(r){return t[r]}.bind(null,n));return e},c.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(r,"a",r),r},c.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},c.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=r,u=u.slice();for(var i=0;i<u.length;i++)r(u[i]);var l=s;o.push([0,"chunk-vendors"]),e()})({0:function(t,r,e){t.exports=e("56d7")},"135e":function(t,r,e){"use strict";e.r(r);var n=e("2b0e"),a=e("5f5b");e("f9e3"),e("2dd8");n["default"].use(a["a"])},"1a9e":function(t,r,e){"use strict";e.r(r);var n=e("2b0e"),a=e("baff"),o=e.n(a);n["default"].use(o.a)},"56d7":function(t,r,e){"use strict";e.r(r);var n={};e.r(n),e.d(n,"setProducts",(function(){return I}));var a={};e.r(a),e.d(a,"fetchProducts",(function(){return D}));var o={};e.r(o),e.d(o,"addProduct",(function(){return V})),e.d(o,"removeProductFromCart",(function(){return W}));var c={};e.r(c),e.d(c,"totalCost",(function(){return X}));e("e260"),e("e6cf"),e("cca6"),e("a79d");var u=e("2b0e"),s=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"mt-5",attrs:{id:"app"}},[e("shop-layout",[e("template",{slot:"product-list"},[e("product-list")],1),e("template",{slot:"cart"},[e("cart")],1)],2)],1)},i=[],l=function(){var t=this,r=t.$createElement,e=t._self._c||r;return t.products.length?e("div",[e("paginate",{attrs:{name:"products",list:t.products,per:t.perPage}},[e("b-card-group",{attrs:{columns:""}},t._l(t.paginated("products"),(function(r){return e("product-item",{key:r.id,attrs:{product:r},on:{addToCart:t.addProductToCart}})})),1)],1),e("paginate-links",{attrs:{for:"products",classes:{ul:"pagination",li:"page-item","li > a":"page-link"}}})],1):e("b-alert",{attrs:{show:"",variant:"info"}},[t._v("No hay productos que mostrar")])},d=[],p=e("5530"),f=e("2f62"),b=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"30rem"},attrs:{title:t.product.name,"img-src":t.product.picture,"img-alt":t.product.name,"img-top":""}},[e("b-button",{attrs:{block:"",variant:"warning"},on:{click:function(r){return t.$emit("addToCart",t.product)}}},[t._v(" Añadir al carrito ")])],1)},m=[],v={props:{product:{type:Object,required:!0}}},h=v,g=e("2877"),j=Object(g["a"])(h,b,m,!1,null,null,null),O=j.exports,y={components:{ProductItem:O},mounted:function(){this.fetchProducts()},data:function(){return{paginate:["products"],perPage:3}},computed:Object(p["a"])({},Object(f["e"])("products",["products"])),methods:Object(p["a"])(Object(p["a"])(Object(p["a"])({},Object(f["b"])("products",["fetchProducts"])),Object(f["d"])("cart",["addProduct"])),{},{addProductToCart:function(t){this.addProduct(t)}})},_=y,P=Object(g["a"])(_,l,d,!1,null,null,null),w=P.exports,x=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-container",[e("b-row",[e("b-col",{attrs:{cols:"9"}},[t._t("product-list")],2),e("b-col",{attrs:{cols:"3"}},[t._t("cart")],2)],1)],1)},C=[],k={},S=Object(g["a"])(k,x,C,!1,null,null,null),T=S.exports,$=function(){var t=this,r=t.$createElement,e=t._self._c||r;return t.cart.length?e("div",[e("b-table",{attrs:{striped:"",hover:"",items:t.cart,fields:t.fields},scopedSlots:t._u([{key:"actions",fn:function(r){return[e("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(e){return e.stopPropagation(),t.removeProductFromCart(r.item)}}},[t._v("Eliminar")])]}}],null,!1,153548291)}),e("b-alert",{staticClass:"text-center",attrs:{show:"",variant:"success"}},[t._v("Coste total: "+t._s(t.totalCost.toFixed(2))+"€")])],1):e("b-alert",{attrs:{show:"",variant:"info"}},[t._v("No hay productos en el carrito")])},q=[],E={data:function(){return{fields:["name","qty","price","actions"]}},computed:Object(p["a"])(Object(p["a"])({},Object(f["e"])("cart",["cart"])),Object(f["c"])("cart",["totalCost"])),methods:Object(p["a"])({},Object(f["d"])("cart",["removeProductFromCart"]))},F=E,M=Object(g["a"])(F,$,q,!1,null,null,null),A=M.exports,J={name:"App",components:{ShopLayout:T,ProductList:w,Cart:A}},L=J,N=Object(g["a"])(L,s,i,!1,null,null,null),R=N.exports,z={products:[]};function I(t,r){t.products=r}e("d3b7"),e("96cf");var B=e("1da1");function D(t){return G.apply(this,arguments)}function G(){return G=Object(B["a"])(regeneratorRuntime.mark((function t(r){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=r.commit,t.next=3,fetch("./fixtures/products.json");case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,e("products/setProducts",a,{root:!0});case 8:case"end":return t.stop()}}),t)}))),G.apply(this,arguments)}var H=!0,K={namespaced:H,state:z,mutations:n,actions:a},Q={cart:[]},U=e("2ef0");function V(t,r){var e=Object(U["find"])(t.cart,{id:r.id});if(e)e.qty+=1;else{var n=Object.assign({},r);n.qty=1,t.cart.push(n)}}function W(t,r){t.cart=Object(U["filter"])(t.cart,(function(t){var e=t.id;return e!==r.id}))}e("13d5");function X(t){return t.cart.reduce((function(t,r){return parseFloat(r.price)*r.qty+t}),0)}var Y={namespaced:!0,state:Q,mutations:o,getters:c};u["default"].use(f["a"]);var Z=new f["a"].Store({modules:{products:K,cart:Y}});e("6912"),u["default"].config.productionTip=!1,new u["default"]({store:Z,render:function(t){return t(R)}}).$mount("#app")},6912:function(t,r,e){e("135e"),e("1a9e")}});
//# sourceMappingURL=app.7132e6b1.js.map
